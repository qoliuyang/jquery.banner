$.fn.banner=function(a){var b=this,c=a||{},d=c.lazytime||0,e=c.width||"100%",f=c.height||250,g=c.css||"",h=void 0===c.auto?!0:c.auto,i=c.autotime||7e3,j=c.effect||0,k=(c.efftime||300,c.hideDot),l=c.hideBtn;return"string"==typeof c.data&&c.data?inputval=$.parseJSON(a.data):c.data?inputval=c.data:inputval=$.parseJSON(b.find("input").val()),$(b).module({template:function(){var a="",b="",c="",d="",g="";return l||(a='<a href="javascript:;" class="banner-btn banner-left"></a><a href="javascript:;" class="banner-btn banner-right"></a>'),k||(c=_.reduce(inputval,function(a,b,c,d){return a+_.template('<i class="<%= cls %>"><%= eq %></i>')({cls:c?"":"curr",eq:1+c})},""),b='<div class="banner-dotwrap">'+c+"</div>"),d=_.reduce(inputval,function(a,b,c,d){var h=inputval[c].url?"_blank":"_self",i='<img src="'+inputval[c].img+'" width="'+e+'" height="'+f+'"/>';return g=inputval[c].url?c>0?'<a target="'+h+'" href="'+inputval[c].url+'" class="banner-item"></a>':'<a target="'+h+'" href="'+inputval[c].url+'" class="banner-item banner-item-first">'+i+"</a>":c>0?'<a target="'+h+'" href="javascript:;" class="banner-item"></a>':'<a target="'+h+'" href="javascript:;" class="banner-item banner-item-first">'+i+"</a>",a+g},""),d+a+b},css:g,event:function(a){function b(){h&&(q=setInterval(c,i))}function c(){s=r,r="left"===t?r+1:r-1,g()}function d(){setTimeout(function(){_.each(inputval,function(a){$("<img />").attr("src",a.img)})},2e3)}function g(){r!==s&&(m(),n(),o(),j?l():k())}function k(){y.eq(s).css("zIndex",1),y.eq(r).css({opacity:0,zIndex:2}).animate({opacity:1})}function l(){var a="left"===t?-u:u;y.eq(s).stop().animate({left:a}),y.eq(r).css({left:-a}).stop().animate({left:0})}function m(){r===v&&(r=0),0>r&&(r=v-1)}function n(){y.eq(r).html('<img src="'+inputval[r].img+'" widh="1920" height="250"/>')}function o(){w.eq(r).addClass("curr").siblings("i").removeClass("curr")}var p=$(this);p.css({width:e,height:f});var q,r=0,s=0,t="left",u=p.width(),v=inputval.length,w=p.find("i"),x=p.find(".banner-btn"),y=p.find(".banner-item");p.on("click","i",function(){s=r,r=$(this).text()-1,g()}).on("click",".banner-left",function(){t="right",s=r,r--,g()}).on("click",".banner-right",function(){t="left",s=r,r++,g()}).on("mouseenter",function(){clearInterval(q),x.show()}).on("mouseleave",function(){b(),x.hide()}),$(window).On("load resize",function(){u=p.width(),y.eq(r).width(u)},100),b(),d()}},d)(a),b};